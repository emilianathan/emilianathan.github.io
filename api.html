<!DOCTYPE html>
<html>
<head>
    <title>Poetry API</title>
    <meta charset="utf-8"/>
    <style>
        body {
            background-color: #7cb46b;
            text-color: #FFF;
            padding-top: 50px; 
            text-align: center;
        }

        #poetryForm {
            margin-bottom: 20px; 
        }

        #titleData {
            margin: 0 auto; 
            max-width: 600px; 
            text-align: center;
        }
    </style>
    <script>
        function getPoetryData() {
            var userTitle = document.getElementById('userTitle').value;
            var url = "https://poetrydb.org/title/" + userTitle + "/lines.json";

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    // Clear previous data
                    document.getElementById("titleData").innerHTML = "";

                    // Access the array of poem lines
                    var lines = data[0].lines; // Assuming the response contains only one object
                    
                    // Iterate over each line of the poem and create a new paragraph element for each
                    lines.forEach(poemLine => {
                        var lineElement = document.createElement("p");
                        lineElement.textContent = poemLine;
                        document.getElementById("titleData").appendChild(lineElement);
                    });
                })
                .catch(error => console.log("Issue with the fetch command. Error."));
        }
    </script>
</head>
<body>
    <h1>Poems and Prose!</h1>
    <p>Note to user: Not all poems are in the database, here are a few to check out: "Ozymandias", "A Letter to a Live Poet", and "On the Death of the Rev. Dr. Sewell". Enjoy! </p>
    <form>
        Submit the title of a poem: <input type='text' name='userTitle' id="userTitle">
        <br><input type="button" value="Get Response" onclick="getPoetryData()">
    </form>
    <div id="titleData">&nbsp;</div>
</body>
</html>
